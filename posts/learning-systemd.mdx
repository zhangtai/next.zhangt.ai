---
title: Learning systemd
created: "2022-01-31"
updated: "2022-02-03"
description: Learning systemd by example
tags: ["linux"]
---

As I occasionally write services for daemon processes, every time when I need I just google for it, this works most of the time. But sometimes it repeated and I haven't keep a note of those one off(I wrongly thought) services. Recently read the blog [systemd by examples] which encourage me to write down my services and share here, most usefully hope I can copy them once needed, from here.

## Examples

### Jenkins agent for SharedCloud

```ini
# TBC
```

### v2ray

```ini
# TBC
```

### iptables save and restore

```ini
# TBC
```

[systemd by examples]: https://systemd-by-example.com/


### code-server

This file come from the builtin [code-server@.service], a good example for service to start on behalf of a particular user.

```ini
[Unit]
Description=code-server
After=network.target

[Service]
Type=exec
ExecStart=/usr/bin/code-server
Restart=always
User=%i

[Install]
WantedBy=default.target
```

[code-server@.service]: https://github.com/coder/code-server/blob/main/ci/build/code-server@.service
